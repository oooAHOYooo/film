// Usage:
//   node populate images
//
// Shortcut wrapper to run gallery/image population tasks.
const { execFileSync } = require('child_process');
const path = require('path');

const args = process.argv.slice(2);
const task = (args[0] || 'images').toLowerCase();

function runNodeScript(relPath, extraArgs = []) {
  const scriptPath = path.resolve(__dirname, relPath);
  execFileSync(process.execPath, [scriptPath, ...extraArgs], { stdio: 'inherit' });
}

try {
  switch (task) {
    case 'images':
    case 'inspiration':
    case 'gallery':
    case 'manifest':
      runNodeScript('scripts/generate-inspo-manifests.js');
      break;
    default:
      // Default behavior if no argument or unknown argument is passed: run the manifest script
      // This makes `node populate` work immediately without arguments
      console.log('Running default task: generate-inspo-manifests...');
      runNodeScript('scripts/generate-inspo-manifests.js');
      break;
  }
} catch (err) {
  console.error('Populate failed:', err?.message || err);
  process.exit(1);
}






